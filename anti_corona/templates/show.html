{% extends "base.html" %}

{% block style %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css">
{% endblock %}

{% block title %}Показать{% endblock %}

{% block content %}

<table id='headerTable'>
	<thead>
		<tr>
			{% for column_name in attrs %}
			<th>{{ attr_names[column_name] }}</th>
			{% endfor %}
		</tr>
	</thead>

	<tbody>
		{% for person in persons %}
		<tr>

			{% for key in attrs %}

			<td>{{ person.get(key)  }}</td>

			{% endfor %}
		</tr>
		{% endfor %}
	</tbody>

</table>

<!-- <button id="btnExport" onclick="fnExcelReport();"> EXPORT </button>
 -->

{% endblock %}


{% block script %}
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>

<script type="text/javascript">

	$(document).ready(function() {
		$('#headerTable').DataTable( {
			dom: 'Bfrtip',
			buttons: ['excelHtml5']
		} );
	} );
</script>
{% endblock %}